<!--
File: edit_user.html
Template Jinja2 per l'app Officina.
Spiega sezioni e blocchi del template.
-->

<!--
File: edit_user.html
HTML/Jinja2 template for the officina project.
Add section comments as needed.
-->

<!-- Estende il layout base -->
{% extends 'base.html' %}
<!-- Inizio del blocco content: qui viene inserito il contenuto della pagina -->
{% block content %}
<h2>✏️ Modifica Utente</h2>
<form method="post" enctype="multipart/form-data">
  <div class="mb-3"><label>Username</label><input name="username" class="form-control" value="{{ user.username }}"></div>
  <div class="mb-3"><label>Nuova password (lascia vuoto per non cambiare)</label><input name="password" type="password" class="form-control"></div>
  <div class="mb-3"><label>Immagine profilo</label><input type="file" name="profile_img" class="form-control"></div>
  <div class="form-check mb-2">
    <input class="form-check-input" type="checkbox" name="is_admin" id="adm" {% if user.is_admin %}checked{% endif %}>
    <label class="form-check-label" for="adm">Admin</label>
  </div>
  <div class="form-check mb-2">
    <input class="form-check-input" type="checkbox" name="force_change" id="fc" {% if user.must_change_password %}checked{% endif %}>
    <label class="form-check-label" for="fc">Forza cambio password</label>
  </div>
  {% if user.is_superadmin %}
    <div class="alert alert-info">Questo è l'admin principale: non puoi rimuovere i permessi admin.</div>
  {% endif %}
  <button class="btn btn-success">Salva</button>
</form>
{% endblock %}<!-- Fine del blocco content -->