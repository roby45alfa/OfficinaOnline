{% extends 'base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2 class="fw-bold">ðŸš— Veicoli</h2>
  <a href="/aggiungi_veicolo" class="btn btn-success">âž• Aggiungi Veicolo</a>
</div>
<table class="table table-striped table-hover">
  <thead class="table-dark"><tr>
    <th>ID</th><th>Proprietario</th><th>Targa</th><th>Marca</th><th>Modello</th><th>Anno</th><th>KM</th><th>Azioni</th>
  </tr></thead>
  <tbody>
    {% for v in veicoli %}
    <tr>
      <td>{{ v.id if v.id is defined else v[0] }}</td>
      <td>{{ v.nome if v.nome is defined else v[1] }} {{ v.cognome if v.cognome is defined else v[2] }}</td>
      <td class="text-uppercase">{{ v.targa if v.targa is defined else v[3] }}</td>
      <td>{{ v.marca if v.marca is defined else v[4] }}</td>
      <td>{{ v.modello if v.modello is defined else v[5] }}</td>
      <td>{{ v.anno if v.anno is defined else v[6] }}</td>
      <td>{{ v.km if v.km is defined else v[7] }}</td>
      <td class="d-flex flex-wrap gap-1">
        <a href="/veicolo/{{ v.id if v.id is defined else v[0] }}" class="btn btn-info btn-sm">Dettagli</a>
        <a href="/manutenzione/{{ v.id if v.id is defined else v[0] }}" class="btn btn-secondary btn-sm">Man. Ord.</a>
        <a href="/scadenze/{{ v.id if v.id is defined else v[0] }}" class="btn btn-secondary btn-sm">Scadenze</a>
      </td>
    </tr>
    {% else %}
    <tr><td colspan="8" class="text-center">Nessun veicolo presente.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}